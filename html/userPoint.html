<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<!--通用样式-->
		<link rel="stylesheet" href="../css/mui.min.css">
		<link rel="stylesheet" type="text/css" href="../css/icons-extra.css" />
		<link rel="stylesheet" type="text/css" href="../css/font-awesome.min.css" />
		<link rel="stylesheet" href="../css/jinhu.css">

	</head>

	<style>
		.mui-table-view-cell {
			padding: 11px 15px;
		}
		.mui-row{
			margin-top: 0;
		}
	</style>

	<body style="background-color: #efeff4">
		
		<header id="header" class="mui-bar mui-bar-transparent" style="background-color: rgba(247, 247, 247, 0);">
			<button class="mui-action-back mui-btn mui-btn-link mui-btn-nav mui-pull-left" style="color:#333333;">
            <span class="mui-icon mui-icon-left-nav"></span>我的积分
		</header>
		
		  <div class="mui-content">
        <div class="jh-mine-integral">
          <div class="mui-row" style="width: 100%;">
              <div class="mui-col-xs-4 mui-text-center">
                  <div class="jh-round">
                      <span id="userExperience"></span> <i class="fa fa-tint tn-blue-color"></i>
                  </div>
                  <p>我的<span id="experience"></span></p>
              </div>
              <div class="mui-col-xs-4 mui-text-center">
                  <div class="jh-round">
                      <span id="userPoints"></span> <i class="fa fa-database tn-yellow-color"></i>
                  </div>
                  <p>我的<span id="trade"></span></p>
              </div>
              <div class="mui-col-xs-4 mui-text-center">
                  <div class="jh-round" id="myRank">
                     <span id="userRank"></span>
                  </div>
                  <p>我的等级</p>
              </div>
          </div>
        </div>
        <div class="jh-gray-bar"></div>
        <ul class="mui-list-unstyled jh-integral-ul">
            <li class="jfrw" id="pointTask">
                <a>积分任务</a>
            </li>
            <li class="jfgz" id="pointRule">
                <a>积分规则</a>
            </li>
            <!--<li class="wycz">
                <a>我要充值</a>
            </li>
            <li class="jfjl">
                <a>充值记录</a>
            </li>-->
            <li class="jfsc" id="PointMall">
                <a>积分商城</a>
            </li>
        </ul> 
    </div>
		<script src="../js/jquery-2.1.0.js"></script>
		<script src="../js/mui.min.js"></script>
		<script src="../js/common.js"></script>
		<script src="../js/service.js"></script>
	</body>
	<script type="text/javascript">
		function dg(id){
			return document.getElementById(id)
		}
		getRankRules()
		function getRankRules() {
				showLoading('', '', '#FFFFFF', '50px');
				getDatawithToken('User/MyPoints', {}, function(data) {
					hideLoading();
					hideErr();
					if(data.Type == 1) {
						if(data.Data && typeof(data.Data) == 'object') {
							var data = data.Data;
							dg('experience').innerHTML=data.Experience;
							dg('userExperience').innerHTML=data.UserExperience;
							dg('trade').innerHTML=data.Trade;
							dg('userPoints').innerHTML=data.UserPoints;
							dg('userRank').innerHTML=data.UserRankImg;
						} else {
							showErr(data.Data, '', '#FFFFFF', '50px')
							mui.toast(data.Data);
						}
					} else {
						//逻辑错误
						showErr(data.Data, '', '#FFFFFF', '50px')
						mui.toast(data.Data);
						return;
					}
				}, function(err) {
					setErr()
				})
			}
			dg('pointTask').addEventListener('tap',function(){
					var baseUrl = 'pointTask.html';
					mui.openWindow({
						url: baseUrl,
						id: baseUrl,
						show: {
							autoShow: true
						},
						waiting: {
							options: {
								loading: {
									height: '35px'
								}
							}
						}
					})
			})
			dg('pointRule').addEventListener('tap',function(){
					var baseUrl = 'pointRule.html';
					mui.openWindow({
						url: baseUrl,
						id: baseUrl,
						show: {
							autoShow: true
						},
						waiting: {
							options: {
								loading: {
									height: '35px'
								}
							}
						}
					})
			})
			dg('myRank').addEventListener('tap',function(){
					var baseUrl = 'myRank.html';
					mui.openWindow({
						url: baseUrl,
						id: baseUrl,
						show: {
							autoShow: true
						},
						waiting: {
							options: {
								loading: {
									height: '35px'
								}
							}
						}
					})
			})
			dg('PointMall').addEventListener('tap',function(){
					var baseUrl = 'pointMall.html';
					mui.openWindow({
						url: baseUrl,
						id: baseUrl,
						show: {
							autoShow: true
						},
						waiting: {
							options: {
								loading: {
									height: '35px'
								}
							}
						}
					})
			})
	</script>

</html>